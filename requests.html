---
layout: default
title: "طلبات العملاء | سمسار طلبك"
description: "قائمة محدثة بطلبات الشراء والإيجار الحالية من عملاء جادين ومستعدين للتعاقد. هل لديك عقار يناسبهم؟"
permalink: /requests/
image: "/assets/img/social-requests.webp"
---

<!-- =========================================================
     1. رأس الصفحة (Header)
     ========================================================= -->
<header class="page-header">
  <div style="max-width: 800px; margin: 0 auto;">
    <h1 class="page-title">
      <i class="fas fa-bullhorn" style="color: #0a84ff;"></i> طلبات العملاء الجادة
    </h1>
    <p style="opacity: 0.8; margin-top: 10px;">
      هؤلاء عملاء جاهزون للتعاقد فوراً. هل تملك عقاراً يطابق مواصفاتهم؟
    </p>
  </div>
</header>

<main>

  <!-- =========================================================
       2. أزرار الفلترة (Filters)
       ========================================================= -->
  <div class="filter-container" style="margin-bottom: 2rem;">
      <button class="filter-btn active" onclick="filterSelection('all')">الكل</button>
      <button class="filter-btn" onclick="filterSelection('residential')"><i class="fas fa-home"></i> طلبات سكنية</button>
      <button class="filter-btn" onclick="filterSelection('commercial')"><i class="fas fa-briefcase"></i> تجاري وإداري</button>
      <button class="filter-btn" onclick="filterSelection('cash')"><i class="fas fa-money-bill-wave"></i> كاش فوري</button>
  </div>

  <!-- =========================================================
       3. شبكة الطلبات (Requests Grid)
       ========================================================= -->
  <section class="properties-grid" style="min-height: 60vh;">
    
    {% comment %} 
      جلب الطلبات وترتيبها بالتاريخ (الأحدث أولاً) 
    {% endcomment %}
    {% assign all_requests = site.requests | sort: 'date' | reverse %}
    
    {% for req in all_requests %}
        
        <!-- 
           ذكاء التصنيف التلقائي للطلبات
        -->
        {% assign category_class = "residential" %} <!-- الافتراضي: سكني -->
        
        <!-- تصنيف تجاري -->
        {% if req.title contains "محل" or req.title contains "مكتب" or req.title contains "مقر" or req.title contains "تجاري" %}
            {% assign category_class = "commercial" %}
        {% endif %}

        <!-- تصنيف كاش (يضاف ككلاس إضافي) -->
        {% if req.title contains "كاش" or req.budget contains "كاش" %}
            {% assign category_class = category_class | append: " cash" %}
        {% endif %}

        <!-- غلاف البطاقة (يحتوي على اسم الفئة للفلترة) -->
        <div class="filter-item {{ category_class }}">
            <!-- 
                هام: type="request"
                هذا يخبر البطاقة أن تظهر باللون الأزرق وتغير كلمة "السعر" إلى "الميزانية"
            -->
            {% include property_card.html item=req type="request" %}
        </div>

    {% else %}
        <div style="grid-column: 1/-1; text-align: center; padding: 5rem 2rem; color: #666; border: 1px dashed #333; border-radius: 20px;">
            <i class="fas fa-clipboard-check" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
            <h3>لا توجد طلبات نشطة حالياً</h3>
            <p>تم إغلاق جميع الطلبات السابقة بنجاح.</p>
        </div>
    {% endfor %}

  </section>

  <!-- زر الانتقال لإضافة عقار -->
  <div style="text-align: center; margin: 3rem 0;">
      <p style="color: #888; margin-bottom: 1rem;">لديك عقار ولكن لا يوجد طلب مطابق؟</p>
      <a href="{{ '/add-your-property.html' | relative_url }}" class="nav-btn" style="background: transparent; border: 1px solid var(--color-primary); color: var(--color-primary);">
          اعرض عقارك وسنجد لك المشتري <i class="fas fa-plus-circle"></i>
      </a>
  </div>

</main>

<!-- =========================================================
     4. سكربت الفلترة (نفس المنطق السريع)
     ========================================================= -->
<script>
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filter-item");
  
  // تحديث شكل الأزرار
  var btns = document.getElementsByClassName("filter-btn");
  for (i = 0; i < btns.length; i++) {
    btns[i].classList.remove("active");
    btns[i].style.backgroundColor = "transparent";
    btns[i].style.color = "#b0b0b0";
    btns[i].style.borderColor = "#333";
  }
  
  // تفعيل الزر المختار (باللون الأزرق هذه المرة ليتناسب مع الطلبات)
  event.currentTarget.classList.add("active");
  // هنا نستخدم اللون الأزرق للطلبات
  event.currentTarget.style.backgroundColor = "#0a84ff"; 
  event.currentTarget.style.color = "#fff";
  event.currentTarget.style.borderColor = "#0a84ff";

  // إخفاء/إظهار العناصر
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);     
    }
  }
  element.className = arr1.join(" ");
}

// تشغيل الفلتر الافتراضي
document.addEventListener("DOMContentLoaded", function() {
    filterSelection("all");
});
</script>

<!-- ستايل خاص للفلترة (مكرر لضمان العمل المستقل) -->
<style>
.filter-item { display: none; }
.show { display: block; animation: fadeIn 0.5s; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.filter-btn {
    border: 1px solid #333;
    background: transparent;
    color: #b0b0b0;
    padding: 8px 20px;
    margin: 5px;
    cursor: pointer;
    border-radius: 50px;
    font-family: 'Cairo';
    font-weight: bold;
    transition: 0.3s;
}
.filter-btn:hover { border-color: #0a84ff; color: #0a84ff; }
.filter-btn.active {
    background-color: #0a84ff;
    color: #fff;
    border-color: #0a84ff;
}
</style>
