<!-- Ù…Ù„Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‡Ø¬ÙŠÙ†: ØµÙˆØ± + Ù†Øµ) -->

{% assign main_color = "#d4af37" %}
{% assign label_text = "Ø¹Ø±Ø¶" %}
{% assign icon_type = "fa-certificate" %}

{% if include.item.collection == 'requests' %}
    {% assign main_color = "#0a84ff" %}
    {% assign label_text = "Ù…Ø·Ù„ÙˆØ¨" %}
    {% assign icon_type = "fa-bullhorn" %}
{% elsif include.item.title contains "Ø¥ÙŠØ¬Ø§Ø±" %}
    {% assign main_color = "#fce205" %}
    {% assign label_text = "Ø¥ÙŠØ¬Ø§Ø±" %}
    {% assign icon_type = "fa-key" %}
{% endif %}

<div class="property-card" onclick="window.location.href='{{ include.item.url | relative_url }}'" style="cursor: pointer; border-top: 4px solid {{ main_color }}; overflow: hidden;">
    
    <!-- ğŸ–¼ï¸ Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª -->
    {% if include.item.image %}
    <div class="card-image" style="height: 200px; overflow: hidden; position: relative;">
        <img src="{{ include.item.image | relative_url }}" 
             alt="{{ include.item.title }}" 
             loading="lazy"
             style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
        
        <!-- Ø§Ù„Ø´Ø§Ø±Ø© ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© -->
        <span style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.8); color: {{ main_color }}; padding: 4px 12px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; border: 1px solid {{ main_color }};">
            <i class="fas {{ icon_type }}"></i> {{ label_text }}
        </span>
    </div>
    {% else %}
    <!-- ğŸ“„ Ø§Ù„Ø´Ø§Ø±Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØµÙˆØ±Ø© (Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…) -->
    <div style="padding: 15px 15px 0 15px; display:flex; justify-content:space-between;">
        <span style="color: {{ main_color }}; background: rgba(255,255,255,0.05); padding: 4px 12px; border-radius: 10px; font-size: 0.8rem; border: 1px solid {{ main_color }};">
            <i class="fas {{ icon_type }}"></i> {{ label_text }}
        </span>
        <span style="color:#666; font-size: 0.8rem;">Ø¬Ø¯ÙŠØ¯</span>
    </div>
    {% endif %}

    <div class="card-content" style="padding: 15px;">
        <h3 class="property-title" style="color:#fff; font-size:1.1rem; margin: 0 0 10px 0; line-height: 1.4;">
            {{ include.item.title }}
        </h3>
        
        <p style="color:#b0b0b0; font-size:0.9rem; margin-bottom: 15px;">
            <i class="fas fa-map-marker-alt" style="color: {{ main_color }};"></i> {{ include.item.location }}
        </p>

        <!-- Ø§Ù„Ø³Ø¹Ø± -->
        <div style="color: {{ main_color }}; font-weight: bold; font-size: 1.1rem; margin-bottom: 10px;">
            {% if include.item.budget %} 
                Ù…ÙŠØ²Ø§Ù†ÙŠØ©: {{ include.item.budget }} 
            {% else %} 
                {{ include.item.price }} 
            {% endif %}
        </div>

        <!-- Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª -->
        <div style="display: flex; gap: 15px; font-size: 0.85rem; color: #ccc; border-top: 1px solid #333; padding-top: 10px;">
            {% if include.item.area %}<span><i class="fas fa-ruler-combined"></i> {{ include.item.area }}</span>{% endif %}
            {% if include.item.rooms %}<span><i class="fas fa-bed"></i> {{ include.item.rooms }}</span>{% endif %}
        </div>
    </div>
</div>

<style>
    /* ØªØ£Ø«ÙŠØ± Ø²ÙˆÙˆÙ… Ø®ÙÙŠÙ Ù„Ù„ØµÙˆØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø§ÙˆØ³ */
    .property-card:hover img { transform: scale(1.1); }
</style>
