<!-- Ù…Ù„Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠ (Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© ÙˆØ§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©) -->

{% assign main_color = "#d4af37" %}
{% assign label_text = "Ø¹Ø±Ø¶" %}
{% assign icon_type = "fa-certificate" %}
{% assign item_url = include.item.url | relative_url %}

<!-- 1. Ø°ÙƒØ§Ø¡ Ø§Ù„ØªØµÙ†ÙŠÙ: Ù‡Ù„ Ù‡Ø°Ø§ Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø£Ù… Ø¹Ø±Ø¶ Ø¹Ù‚Ø§Ø±ØŸ -->
{% if include.item.collection == 'requests' or include.type == 'request' %}
    {% assign main_color = "#0a84ff" %}
    {% assign label_text = "Ù…Ø·Ù„ÙˆØ¨" %}
    {% assign icon_type = "fa-bullhorn" %}
    <!-- ØµÙˆØ±Ø© Ø«Ø§Ø¨ØªØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ù…Ø¸Ù‡Ø± Ø§Ø­ØªØ±Ø§ÙÙŠ -->
    {% assign card_img = "/assets/img/social-requests.webp" | relative_url %}
{% else %}
    <!-- Ù…Ù†Ø·Ù‚ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± (ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) -->
    {% if include.item.image_file %}
        {% assign card_img = "/assets/img/properties/" | append: include.item.image_file | relative_url %}
    {% else %}
        {% assign card_img = "/assets/img/social-home.webp" | relative_url %}
    {% endif %}

    {% if include.item.title contains "Ø¥ÙŠØ¬Ø§Ø±" %}
        {% assign main_color = "#fce205" %}
        {% assign label_text = "Ø¥ÙŠØ¬Ø§Ø±" %}
        {% assign icon_type = "fa-key" %}
    {% endif %}
{% endif %}

<div class="property-card" 
     onclick="window.location.href='{{ item_url }}'" 
     style="cursor: pointer; border-top: 4px solid {{ main_color }}; overflow: hidden; display: flex; flex-direction: column; height: 100%; background: #111; border-radius: 0 0 15px 15px;"
     itemscope itemtype="https://schema.org/RealEstateListing">
    
    <!-- ğŸ–¼ï¸ Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ -->
    <div class="card-image" style="height: 200px; overflow: hidden; position: relative; background: #000;">
        <img src="{{ card_img }}" 
             alt="{{ include.item.title }} - Ø³Ù…Ø³Ø§Ø± Ø·Ù„Ø¨Ùƒ" 
             loading="lazy"
             itemprop="image"
             style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
        
        <!-- Ø§Ù„Ø´Ø§Ø±Ø© ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© -->
        <span style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.8); color: {{ main_color }}; padding: 4px 12px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; border: 1px solid {{ main_color }}; z-index: 2;">
            <i class="fas {{ icon_type }}"></i> {{ label_text }}
        </span>
    </div>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© -->
    <div class="card-content" style="padding: 15px; flex-grow: 1; display: flex; flex-direction: column;">
        
        <h3 class="property-title" 
            style="color:#fff; font-size:1.1rem; margin: 0 0 10px 0; line-height: 1.4;"
            itemprop="name">
            {{ include.item.title | truncate: 50 }}
        </h3>
        
        <p style="color:#b0b0b0; font-size:0.9rem; margin-bottom: 15px;" itemprop="address">
            <i class="fas fa-map-marker-alt" style="color: {{ main_color }};"></i> 
            <span itemprop="addressLocality">{{ include.item.location | truncate: 40 }}</span>
        </p>

        <!-- Ø§Ù„Ø³Ø¹Ø± Ø£Ùˆ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© -->
        <div style="color: {{ main_color }}; font-weight: bold; font-size: 1.1rem; margin-bottom: 10px;">
            {% if include.item.budget %} 
                <span style="font-size: 0.8rem; color: #888; font-weight: 400;">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©:</span> {{ include.item.budget }}
            {% else %} 
                {{ include.item.price }}
            {% endif %}
        </div>

        <!-- Ø²Ø± Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
        <div style="margin-top: auto; padding-top: 10px; border-top: 1px solid #222; text-align: left;">
            <span style="color: #aaa; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 5px;">
                Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ <i class="fas fa-arrow-left" style="color: {{ main_color }};"></i>
            </span>
        </div>
    </div>
</div>

<style>
    .property-card:hover img { transform: scale(1.1); }
    .property-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
    .property-card { transition: all 0.3s ease; }
</style>
