---
layout: default
title: "أضف عقارك مجاناً | سمسار طلبك"
description: "هل لديك عقار للبيع أو الإيجار في مدينة نصر؟ أضفه الآن مجاناً ليصل إلى آلاف المشترين الجادين في دقائق."
permalink: /add-your-property.html
image: "/assets/img/social-add.webp"
---

<style>
  /* --- التنسيقات الأصلية مع تحسينات طفيفة للانتقالات --- */
  .smart-form-container {
    background: var(--color-surface-2);
    border-radius: 25px;
    padding: 3rem;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    border: 1px solid var(--color-border-light);
    max-width: 900px;
    margin: 3rem auto;
    position: relative;
    overflow: hidden;
  }

  .progress-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 3rem;
    position: relative;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .progress-bar::before {
    content: '';
    position: absolute; top: 50%; left: 0; right: 0;
    height: 2px; background-color: #333; z-index: 1; transform: translateY(-50%);
  }
  .progress-line {
    position: absolute; top: 50%; left: 0; height: 2px;
    background: linear-gradient(90deg, var(--color-primary), var(--color-primary-dark));
    z-index: 2; width: 0%; transition: width 0.5s ease;
  }
  .progress-step {
    position: relative; z-index: 3; width: 45px; height: 45px;
    border-radius: 50%; background-color: #111;
    border: 2px solid #444; color: #888;
    display: flex; align-items: center; justify-content: center;
    font-weight: bold; transition: all 0.4s ease; font-size: 1.1rem;
    cursor: pointer; /* جعل الأرقام قابلة للضغط للعودة */
  }
  .progress-step.active {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
    color: #000; box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
  }

  .form-step { 
    display: none; 
    opacity: 0;
    transition: opacity 0.4s ease;
  }
  .form-step.active { 
    display: block; 
    opacity: 1;
    animation: fadeInUp 0.5s ease;
  }
  
  .form-step h2 {
    color: var(--color-primary); text-align: center;
    margin-bottom: 2rem; font-size: 1.8rem; font-weight: 800;
  }
  
  .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
  .form-group { display: flex; flex-direction: column; }
  .form-group.full-width { grid-column: 1 / -1; }
  
  .form-group label {
    margin-bottom: 0.8rem; color: #ccc; font-size: 0.95rem; font-weight: 600;
  }
  
  .property-form input, .property-form select, .property-form textarea {
    background-color: #0a0a0a;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 15px;
    color: #fff;
    font-size: 1rem;
    font-family: 'Cairo', sans-serif;
    transition: all 0.3s ease;
  }
  
  .property-form input:focus, .property-form select:focus, .property-form textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.2);
    background-color: #111;
  }

  .form-navigation { display: flex; justify-content: space-between; margin-top: 3rem; border-top: 1px solid #222; padding-top: 2rem; }
  
  .nav-btn {
    background: transparent; color: #ccc;
    border: 1px solid #444; padding: 12px 30px;
    border-radius: 50px; cursor: pointer;
    font-weight: bold; font-family: 'Cairo'; transition: all 0.3s;
  }
  .nav-btn.next-btn, .nav-btn.submit-btn {
    background: linear-gradient(45deg, var(--color-primary), var(--color-primary-dark));
    color: #000; border: none;
  }
  .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; filter: grayscale(1); }

  @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } .smart-form-container { padding: 1.5rem; } }
</style>

<header class="page-header">
  <div style="max-width: 700px; margin: 0 auto; text-align: center;">
    <h1 class="page-title">أضف عقارك للبيع أو الإيجار</h1>
    <p style="opacity: 0.8; margin-top: 10px;">أكمل البيانات التالية ليصل عرضك للمشترين فوراً</p>
  </div>
</header>

<main>
<div class="smart-form-container">
  
  <div class="progress-bar">
    <div class="progress-line"></div>
    <div class="progress-step active" data-step="1">1</div>
    <div class="progress-step" data-step="2">2</div>
    <div class="progress-step" data-step="3">3</div>
  </div>

  <form id="smart-form" action="https://formspree.io/f/xpwvedwp" method="POST" class="property-form">
    <input type="hidden" name="_subject" value="عرض عقاري جديد من الموقع!">
    <input type="hidden" name="_next" value="https://nasr-realestate.github.io/form-success.html">

    <!-- الخطوة 1 -->
    <div class="form-step active" data-step="1">
      <h2><i class="fas fa-info-circle"></i> البيانات الأساسية</h2>
      <div class="form-grid">
        <div class="form-group full-width">
          <label for="title">عنوان الإعلان</label>
          <input type="text" id="title" name="title" placeholder="عنوان يصف عقارك بدقة" required autofocus>
        </div>
        <div class="form-group">
          <label for="property-type">نوع العقار</label>
          <select id="property-type" name="property-type" required>
            <option value="" disabled selected>اختر النوع...</option>
            <option value="شقة للبيع">شقة للبيع</option>
            <option value="شقة للإيجار">شقة للإيجار</option>
            <option value="محل تجاري">محل تجاري</option>
            <option value="مكتب إداري">مكتب إداري</option>
          </select>
        </div>
        <div class="form-group">
          <label for="price_display">السعر المطلوب</label>
          <input type="text" id="price_display" name="price_display" placeholder="السعر بالجنيه المصري" required>
        </div>
        <div class="form-group full-width">
            <label for="area_display">المساحة (م²)</label>
            <input type="number" id="area_display" name="area_display" placeholder="مثال: 150" required>
        </div>
      </div>
    </div>

    <!-- الخطوة 2 -->
    <div class="form-step" data-step="2">
      <h2><i class="fas fa-layer-group"></i> تفاصيل المواصفات</h2>
      <div class="form-grid">
        <div class="form-group">
          <label for="rooms">عدد الغرف</label>
          <select id="rooms" name="rooms" required>
            <option value="2">2 غرفة</option>
            <option value="3" selected>3 غرف</option>
            <option value="4">4 غرف</option>
            <option value="5">5 غرف أو أكثر</option>
          </select>
        </div>
        <div class="form-group">
          <label for="bathrooms">عدد الحمامات</label>
          <select id="bathrooms" name="bathrooms" required>
            <option value="1">1 حمام</option>
            <option value="2" selected>2 حمام</option>
            <option value="3">3 حمامات</option>
          </select>
        </div>
        <div class="form-group">
          <label for="floor">الدور</label>
          <select id="floor" name="floor" required>
              <option value="أرضي">أرضي</option>
              <option value="متكرر" selected>أدوار متكررة</option>
              <option value="أخير">أخير / روف</option>
          </select>
        </div>
        <div class="form-group">
          <label for="finish">نوع التشطيب</label>
          <select id="finish" name="finish" required>
            <option value="سوبر لوكس">سوبر لوكس (جاهز للسكن)</option>
            <option value="نصف تشطيب">نصف تشطيب</option>
            <option value="طوب أحمر">طوب أحمر</option>
          </select>
        </div>
      </div>
    </div>

    <!-- الخطوة 3 -->
    <div class="form-step" data-step="3">
      <h2><i class="fas fa-map-marked-alt"></i> الموقع والتواصل</h2>
      <div class="form-grid">
        <div class="form-group full-width">
            <label for="location">العنوان بالتفصيل</label>
            <input type="text" id="location" name="location" placeholder="المنطقة واسم الشارع" required>
        </div>
        <div class="form-group full-width">
            <label for="description">وصف إضافي</label>
            <textarea id="description" name="description" rows="4" placeholder="اكتب هنا أي تفاصيل أخرى تهم المشتري..." required></textarea>
        </div>
        <div class="form-group full-width">
            <label for="phone">رقم الهاتف (واتساب)</label>
            <input type="tel" id="phone" name="phone" placeholder="01xxxxxxxxx" required>
        </div>
      </div>
    </div>

    <div class="form-navigation">
      <button type="button" class="nav-btn prev-btn" style="visibility: hidden;">السابق</button>
      <button type="button" class="nav-btn next-btn" disabled>التالي <i class="fas fa-arrow-left"></i></button>
      <button type="submit" class="nav-btn submit-btn" style="display: none;" disabled>إرسال العقار الآن <i class="fas fa-paper-plane"></i></button>
    </div>
  </form>
</div>
</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('smart-form');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    const submitBtn = document.querySelector('.submit-btn');
    const formSteps = document.querySelectorAll('.form-step');
    const progressSteps = document.querySelectorAll('.progress-step');
    const progressLine = document.querySelector('.progress-line');
    
    let currentStep = 1;

    const updateUI = () => {
        // تحديث شريط التقدم
        progressSteps.forEach((step, index) => {
            if (index < currentStep) step.classList.add('active');
            else step.classList.remove('active');
        });
        progressLine.style.width = `${((currentStep - 1) / (formSteps.length - 1)) * 100}%`;

        // إظهار وإخفاء الأزرار
        prevBtn.style.visibility = currentStep > 1 ? 'visible' : 'hidden';
        nextBtn.style.display = currentStep < formSteps.length ? 'inline-block' : 'none';
        submitBtn.style.display = currentStep === formSteps.length ? 'inline-block' : 'none';

        // فوكس تلقائي على أول حقل
        const activeStep = document.querySelector(`.form-step[data-step="${currentStep}"]`);
        const firstInput = activeStep.querySelector('input, select, textarea');
        if (firstInput) firstInput.focus();

        validateStep();
    };

    const validateStep = () => {
        const currentFormStep = document.querySelector(`.form-step[data-step="${currentStep}"]`);
        const inputs = currentFormStep.querySelectorAll('input[required], select[required], textarea[required]');
        let isValid = true;
        inputs.forEach(input => {
            if (!input.value.trim()) isValid = false;
        });
        
        if (currentStep < formSteps.length) nextBtn.disabled = !isValid;
        else submitBtn.disabled = !isValid;
    };

    const goToStep = (step) => {
        if (step < 1 || step > formSteps.length) return;
        
        // التحقق من أن المستخدم لا يقفز للأمام دون تعبئة البيانات
        if (step > currentStep) {
            const activeStepInputs = document.querySelector(`.form-step[data-step="${currentStep}"]`).querySelectorAll('[required]');
            let canMove = true;
            activeStepInputs.forEach(i => { if(!i.value.trim()) canMove = false; });
            if(!canMove) return;
        }

        formSteps.forEach(s => s.classList.remove('active'));
        document.querySelector(`.form-step[data-step="${step}"]`).classList.add('active');
        currentStep = step;
        updateUI();
    };

    // جعل خطوات التقدم قابلة للضغط للعودة
    progressSteps.forEach(step => {
        step.addEventListener('click', () => {
            const targetStep = parseInt(step.dataset.step);
            goToStep(targetStep);
        });
    });

    nextBtn.addEventListener('click', () => goToStep(currentStep + 1));
    prevBtn.addEventListener('click', () => goToStep(currentStep - 1));
    
    form.querySelectorAll('input, select, textarea').forEach(input => {
        input.addEventListener('input', validateStep);
        input.addEventListener('change', validateStep);
    });

    // إرسال الفورم (AJAX) لضمان عدم الخروج من الصفحة
    form.addEventListener("submit", function(event) {
        event.preventDefault();
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> جاري الإرسال...';

        fetch(form.action, {
            method: form.method,
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
        }).then(response => {
            if (response.ok) window.location.href = "/form-success.html";
            else alert("حدث خطأ، يرجى المحاولة لاحقاً.");
        }).catch(() => {
            alert("فشل الاتصال بالإنترنت.");
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'إرسال العقار الآن <i class="fas fa-paper-plane"></i>';
        });
    });

    updateUI();
});
</script>
